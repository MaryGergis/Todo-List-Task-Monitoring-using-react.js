{"version":3,"file":"static/js/177.e646fbb5.chunk.js","mappings":"sOA8JA,QArJA,WACE,MAAMA,GAAWC,EAAAA,EAAAA,OACX,QAAEC,IAAWC,EAAAA,EAAAA,YAAWC,EAAAA,GACxBC,GAAWC,EAAAA,EAAAA,QAAO,OAClB,YAAEC,IAAgBJ,EAAAA,EAAAA,YAAWK,EAAAA,IAE5BC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,YAAa,GACbC,SAAU,GACVC,MAAO,KACPC,KAAK,KAGDC,EAAgBC,IACpB,MAAM,KAAEC,EAAI,MAAEC,GAAUF,EAAEG,OAC1BX,GAASY,IAAI,IACRA,EACH,CAACH,GAAOC,KACP,GA4BLG,EAAAA,EAAAA,YAAU,KAAO,IAADC,EACE,QAAhBA,EAAAnB,EAASoB,eAAO,IAAAD,GAAhBA,EAAkBE,OAAO,GACxB,IAEH,MAeMC,EAA6BA,KACjCC,EAAAA,GAAMC,MAAM,0BACZ7B,EAAS,eAAe,EAG1B,OACE8B,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,UAAW,KAAOC,aAAc,QAAUC,UAAU,iCAAgCC,SAAA,EAChGC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,8BAA6BC,SAAC,uBAC5CL,EAAAA,EAAAA,MAAA,QAAMO,SApDYnB,IACpBA,EAAEoB,iBAEG/B,EAMLL,EAAQO,GACL8B,MAAK,KACJ7B,EAAQ,CACNE,MAAO,GACPC,YAAa,GACbC,SAAU,GACVC,MAAO,KACPC,KAAM,KAERhB,EAAS,SAAS,IAEnBwC,OAAOX,IACNY,QAAQZ,MAAMA,EAAM,IAhBtBF,GAiBE,EA8B4BO,UAAU,WAAUC,SAAA,EAChDL,EAAAA,EAAAA,MAAA,OAAKI,UAAU,aAAYC,SAAA,EACzBL,EAAAA,EAAAA,MAAA,OAAKI,UAAU,eAAcC,SAAA,EAC7BC,EAAAA,EAAAA,KAAA,SAAOM,QAAQ,QAAOP,SAAC,iBAAoB,KAACC,EAAAA,EAAAA,KAAA,UAC1CA,EAAAA,EAAAA,KAAA,SACEO,KAAK,OACLT,UAAU,eACVU,GAAG,QACHzB,KAAK,QACLC,MAAOX,EAAKG,MACZiC,SAAU5B,EACV6B,IAAKzC,EACL0C,UAAQ,QAIZjB,EAAAA,EAAAA,MAAA,OAAKI,UAAU,QAAOC,SAAA,EACpBC,EAAAA,EAAAA,KAAA,SAAOM,QAAQ,WAAUP,SAAC,iBAC1BC,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEO,KAAK,OACLT,UAAU,eACVU,GAAG,WACHzB,KAAK,WACLC,MAAOX,EAAKK,SACZ+B,SAAU5B,EAEV8B,UAAQ,WAKdjB,EAAAA,EAAAA,MAAA,OAAKI,UAAU,aAAYC,SAAA,EACzBL,EAAAA,EAAAA,MAAA,OAAKI,UAAU,UAASC,SAAA,EACtBC,EAAAA,EAAAA,KAAA,SAAOM,QAAQ,cAAaP,SAAC,oBAC7BC,EAAAA,EAAAA,KAAA,YACEF,UAAU,gBACVU,GAAG,cACHzB,KAAK,cAAc6B,KAAM,GAAIC,KAAM,GACnC7B,MAAOX,EAAKI,YACZgC,SAAU5B,QAIdmB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,SAAQC,UACrBL,EAAAA,EAAAA,MAAA,OAAKI,UAAWH,EAAAA,EAAMmB,YAAYf,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKe,IAAKC,EAAAA,EAAWlB,UAAU,aAAamB,IAAI,GAAGT,GAAG,kBAAmBU,MAAO,WAChFlB,EAAAA,EAAAA,KAAA,OAAKe,IAAK1C,EAAKM,MAAOmB,UAAU,mBAAmBmB,IAAI,GAAGT,GAAG,kBAAmBU,MAAO,QAAUvB,MAAO,CAACwB,SAAS,WAAYC,KAAK,MAAOC,IAAI,UAC9IrB,EAAAA,EAAAA,KAAA,SACEO,KAAK,OAAOe,QAAM,EAClBxB,UAAU,eACVU,GAAG,QACHzB,KAAK,QACL0B,SA5Ea3B,IACzB,MAAMyC,EAAOzC,EAAEG,OAAOuC,MAAM,GAC5B,GAAID,EAAM,CACR,MAAME,EAAS,IAAIC,WACnBD,EAAOE,OAAU7C,IACf,MAAM8C,EAAc9C,EAAEG,OAAO4C,OAC7BvD,GAASY,IAAI,IACRA,EACHP,MAAOiD,KACN,EAELH,EAAOK,cAAcP,EACvB,MAkEU7B,EAAAA,EAAAA,MAAA,SAAOY,QAAQ,QAAOP,SAAA,EACpBC,EAAAA,EAAAA,KAAA,OAAK+B,MAAM,6BAA6Bb,MAAM,KAAKc,OAAO,KAAKC,KAAK,eAAenC,UAAU,4BAA4BoC,QAAQ,YAAWnC,UAC1IC,EAAAA,EAAAA,KAAA,QAAMmC,EAAE,0VACJ,KAACnC,EAAAA,EAAAA,KAAA,SAAM,2BAOrBA,EAAAA,EAAAA,KAAA,OAAKF,UAAU,mBAAkBC,UAC/BC,EAAAA,EAAAA,KAAA,UAAQF,UAAU,6CAA6CH,MAAO,CAACyC,OAAO,GAAGrC,SAAC,oBAO5F,C","sources":["Components/CRUD/AddTask.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport {  toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport TasksContext from \"../../ContextApis/TasksContext\";\r\nimport { UsersContext } from \"../../ContextApis/UsersContext\";\r\nimport style from \"../../Styles/AddTask.module.css\";\r\nimport imgUpload from \"../../Images/imgUpload.svg\";\r\n\r\nfunction AddTask() {\r\n  const navigate = useNavigate();\r\n  const { addTask} = useContext(TasksContext);\r\n  const inputRef = useRef(null);\r\n  const { CurrentUser } = useContext(UsersContext);\r\n\r\n  const [task, setTask] = useState({\r\n    title: \"\",\r\n    description: \"\",\r\n    deadline: \"\",\r\n    image: null, \r\n    user:\"\"\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setTask((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!CurrentUser) {\r\n      // If the user is not signed in, show an error toast and redirect to the sign-in page\r\n      showSignInToastAndRedirect();\r\n      return;\r\n    }\r\n  \r\n    addTask(task)\r\n      .then(() => {\r\n        setTask({\r\n          title: \"\",\r\n          description: \"\",\r\n          deadline: \"\",\r\n          image: null, // Reset the image\r\n          user: \"\",\r\n        });\r\n        navigate(\"/Tasks\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n  \r\n  useEffect(() => {\r\n    inputRef.current?.focus();\r\n  }, []);\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const base64Image = e.target.result;\r\n        setTask((prev) => ({\r\n          ...prev,\r\n          image: base64Image,\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n  \r\n  const showSignInToastAndRedirect = () => {\r\n    toast.error('You must sign in first');\r\n    navigate('/User/signin'); \r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: \"9%\",  borderRadius: \"25px\" }} className=\"container card text-black w-50\">\r\n      <h3 className=\"text-center text-dark  pt-3\"> Create new Task </h3>\r\n      <form onSubmit={handleSubmit} className=\"form p-3\">\r\n        <div className=\"row d-flex\">\r\n          <div className=\" mb-3 w-50  \">\r\n          <label htmlFor=\"title\"> Task Name: </label> <br />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={task.title}\r\n              onChange={handleChange}\r\n              ref={inputRef}\r\n              required\r\n            /> \r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <label htmlFor=\"deadline\"> Deadline: </label>\r\n            <br />\r\n            <input\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"deadline\"\r\n              name=\"deadline\"\r\n              value={task.deadline}\r\n              onChange={handleChange}   \r\n\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row d-flex\">\r\n          <div className=\"col-6  \">\r\n            <label htmlFor=\"description\"> Description: </label>\r\n            <textarea \r\n              className=\"form-control \"\r\n              id=\"description\"\r\n              name=\"description\" rows={10} cols={60}\r\n              value={task.description}\r\n              onChange={handleChange} \r\n            /> \r\n          </div>\r\n\r\n          <div className=\"col-6 \">\r\n            <div className={style.uploadField} >\r\n              <img src={imgUpload} className=\"img-fluid \" alt=\"\" id=\"img-placeholder\"  width={'450px'} />\r\n              <img src={task.image} className=\"img-fluid h-auto\" alt=\"\" id=\"img-placeholder\"  width={'250px'}  style={{position:'absolute', left:'15%', top:'15%'}}/>\r\n              <input\r\n                type=\"file\" hidden\r\n                className=\"form-control\"\r\n                id=\"image\"\r\n                name=\"image\"\r\n                onChange={handleImageChange}\r\n              />\r\n              <label htmlFor=\"image\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" className=\"bi bi-cloud-arrow-up-fill\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z\"/>\r\n                </svg> <br />\r\n                  Upload Image\r\n              </label>   \r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"text-center mt-3\">\r\n          <button className=\"btn btn-dark mx-2 text-light px-5 py-2 b-0\" style={{zIndex:1}}>\r\n            Add Task\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddTask;"],"names":["navigate","useNavigate","addTask","useContext","TasksContext","inputRef","useRef","CurrentUser","UsersContext","task","setTask","useState","title","description","deadline","image","user","handleChange","e","name","value","target","prev","useEffect","_inputRef$current","current","focus","showSignInToastAndRedirect","toast","error","_jsxs","style","marginTop","borderRadius","className","children","_jsx","onSubmit","preventDefault","then","catch","console","htmlFor","type","id","onChange","ref","required","rows","cols","uploadField","src","imgUpload","alt","width","position","left","top","hidden","file","files","reader","FileReader","onload","base64Image","result","readAsDataURL","xmlns","height","fill","viewBox","d","zIndex"],"sourceRoot":""}