{"version":3,"file":"static/js/268.3d5ef9d9.chunk.js","mappings":"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","sources":["webpack://todo-list-website/./src/Styles/EditUserAccount.module.css?c789","Components/CRUD/EditUserAccount.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"input\":\"EditUserAccount_input__8XGkC\",\"label\":\"EditUserAccount_label__2RxPy\"};","import React, { useState, useEffect, useContext, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {UsersContext } from '../../ContextApis/UsersContext';\r\nimport axios from 'axios';\r\nimport userImage from '../../Images/user.jpg'; \r\nimport style from '../../Styles/EditUserAccount.module.css'\r\nimport { toast } from 'react-toastify';\r\n\r\nconst EditUserAccount = () => {\r\n    const navigate = useNavigate();\r\n    const inputRef = useRef(null);\r\n    const { id } = useParams();\r\n    const { CurrentUser, editUser, DeleteUser , currentUserReset} = useContext(UsersContext); \r\n\r\n    const [user, setUser] = useState({\r\n        id: id,\r\n        name: '',\r\n        userName: '',\r\n        phone: '',\r\n        image: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () => {\r\n        try {\r\n            const response = await axios.get(`http://localhost:2000/User/${id}`);\r\n            setUser(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching user:', error);\r\n        }\r\n        };\r\n        fetchUser();\r\n    }, [id]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setUser((prevUser) => ({\r\n        ...prevUser,\r\n        [name]: value,\r\n        }));\r\n    };\r\n\r\n    const handleImageChange = (e) => {\r\n        const placeholder = document.querySelector(\"#img\");\r\n        placeholder.src = URL.createObjectURL(e.target.files[0]);\r\n        const file = e.target.files[0];\r\n        if (file) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            const base64Image = e.target.result;\r\n            setUser((prevUser) => ({\r\n            ...prevUser,\r\n            image: base64Image,\r\n            }));\r\n        };\r\n        reader.readAsDataURL(file);\r\n        }\r\n    };\r\n\r\n    const deleteUserhandler = () => {\r\n        if (window.confirm(\"Are you sure you want to delete your account?\")) {\r\n        DeleteUser(CurrentUser?.id);\r\n        navigate(\"/Home\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        editUser(user.id, user);\r\n        e.preventDefault();\r\n        toast.success(\"Updated Successfully\")\r\n    };\r\n\r\n    const UserSignOut=()=>{\r\n        currentUserReset();\r\n        navigate(\"/Home\");\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginTop: \"8%\",  borderRadius: \"25px\" }} className=\"container card text-black w-50\">\r\n            <form onSubmit={handleSubmit} className=\"form p-3\">\r\n                <div className='d-flex row ' >\r\n                    <div className='col-6'>\r\n                        <div>\r\n                            <img src={CurrentUser?.image || userImage} className='img-fluid w-100' id='img'  alt='user image1' style={{borderRadius:'50%'}}  />\r\n                        </div>\r\n\r\n                        <input type=\"file\" hidden id=\"pic\" onChange={handleImageChange} />\r\n                        <label className=\"mt-3 img-lbl btn btn-primary\" htmlFor=\"pic\" style={{marginLeft:'30%'}}>\r\n                            Change Image\r\n                        </label>\r\n                    </div>\r\n\r\n\r\n                    <div className='col-6'>\r\n                        <div className=\" mb-3\">\r\n                            <label htmlFor=\"title\" className={style.label}> User Name: </label> \r\n                            <input required\r\n                            type=\"text\"\r\n                            className={style.input}\r\n                            id=\"title\"\r\n                            name=\"userName\"\r\n                            value={user.userName}\r\n                                onChange={handleChange}\r\n                                ref={inputRef}\r\n                            /> \r\n                        </div>\r\n\r\n                        <div className=\" mb-3\">\r\n                            <label htmlFor=\"fullName\" className={style.label}> Full Name: </label> \r\n                            <input required\r\n                            type=\"text\"\r\n                            className={style.input}\r\n                            id=\"fullName\"\r\n                            name=\"name\"\r\n                            value={user.name}\r\n                                onChange={handleChange}\r\n                            /> \r\n                        </div>\r\n\r\n                        <div className=\" mb-3\">\r\n                            <label htmlFor=\"email\" className={style.label}> Email Address: </label> \r\n                            <input\r\n                            type=\"email\"\r\n                            className={style.input}\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            value={user.id}\r\n                                onChange={handleChange} disabled\r\n                            /> \r\n                        </div>\r\n\r\n                        <div >\r\n                            <label htmlFor=\"phone\" className={style.label}> Phone Number: </label> \r\n                            <input\r\n                            type=\"number\"\r\n                            className={style.input}\r\n                            id=\"phone\"\r\n                            name=\"phone\"\r\n                            value={user.phone}\r\n                                onChange={handleChange}\r\n                            /> \r\n                        </div>\r\n\r\n                        <button className='btn btn-primary  mt-4 ms-5' style={{marginLeft:'10%'}}>\r\n                            Update your Profile\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className='d-flex mt-5 ' style={{marginLeft:'20%'}}>\r\n                        <button className=\"btn btn-dark mx-3 w-25\" onClick={UserSignOut}>Sign Out</button>\r\n\r\n                        <button className='btn  ms-3 w-25 text-light' onClick={deleteUserhandler} style={{background:'#ff8c00'}}>\r\n                            Delete Account\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditUserAccount;"],"names":["EditUserAccount","navigate","useNavigate","inputRef","useRef","id","useParams","CurrentUser","editUser","DeleteUser","currentUserReset","useContext","UsersContext","user","setUser","useState","name","userName","phone","image","useEffect","async","response","axios","get","concat","data","error","console","fetchUser","handleChange","e","value","target","prevUser","_jsx","style","marginTop","borderRadius","className","children","onSubmit","preventDefault","toast","success","_jsxs","src","userImage","alt","type","hidden","onChange","document","querySelector","URL","createObjectURL","files","file","reader","FileReader","onload","base64Image","result","readAsDataURL","htmlFor","marginLeft","required","ref","disabled","onClick","UserSignOut","deleteUserhandler","window","confirm","background"],"sourceRoot":""}