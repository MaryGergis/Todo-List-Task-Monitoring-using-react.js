{"version":3,"file":"static/js/925.b6d11a74.chunk.js","mappings":"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","sources":["Components/CRUD/EditTask.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport React, { useState, useRef, useEffect, useContext } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport TasksContext from '../../ContextApis/TasksContext';\r\nimport style from '../../Styles/AddTask.module.css';\r\nimport imgUpload from '../../Images/imgUpload.svg';\r\n\r\nfunction EditTasks() {\r\n  const navigate = useNavigate();\r\n  const { deleteTask, editTask } = useContext(TasksContext);\r\n  const inputRef = useRef(null);\r\n  const { id } = useParams();\r\n\r\n  const [task, setTask] = useState({\r\n    id: id,\r\n    title: '',\r\n    deadline: '',\r\n    description: '',\r\n    image: '',\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchTask = () => {\r\n      axios\r\n        .get(`http://localhost:2000/tasks/${id}`)\r\n        .then((res) => {\r\n          setTask({\r\n            id: res.data.id,\r\n            title: res.data.title,\r\n            deadline: res.data.deadline,\r\n            description: res.data.description,\r\n            image: res.data.image,\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.error('Error fetching task:', err);\r\n          console.log('URL for task fetch:', `http://localhost:2000/tasks/${id}`);\r\n        });\r\n    };\r\n    fetchTask();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setTask((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    editTask(task.id, task);\r\n    e.preventDefault();\r\n    navigate('/tasks');\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await deleteTask(id);\r\n      navigate('/tasks');\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error);\r\n    }\r\n  };\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => {\r\n        const base64Image = e.target.result;\r\n        setTask((prev) => ({\r\n          ...prev,\r\n          image: base64Image,\r\n        }));\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: \"8%\",  borderRadius: \"25px\" }} className=\"container card text-black w-50\">\r\n      <h3 className=\"text-center text-dark  pt-3\"> Edit Task Details </h3>\r\n      <form onSubmit={handleSubmit} className=\"form p-3\">\r\n        <div className=\"row d-flex\">\r\n          <div className=\" mb-3 w-50  \">\r\n            <label htmlFor=\"title\"> Task Name: </label> <br />\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              value={task.title}\r\n                onChange={handleChange}\r\n                ref={inputRef}\r\n            /> \r\n          </div>\r\n\r\n          <div className=\"col-6\">\r\n            <label htmlFor=\"deadline\"> Deadline: </label>\r\n            <br />\r\n            <input\r\n              type=\"date\"\r\n              className=\"form-control\"\r\n              id=\"deadline\"\r\n              name=\"deadline\"\r\n              value={task.deadline}\r\n              onChange={handleChange} \r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row d-flex\">\r\n          <div className=\"col-6  \">\r\n            <label htmlFor=\"description\"> Description: </label>\r\n            <textarea \r\n              className=\"form-control \"\r\n              id=\"description\"\r\n              name=\"description\" rows={10} cols={60}\r\n              value={task.description}\r\n              onChange={handleChange} \r\n            /> \r\n          </div>\r\n\r\n          <div className=\"col-6 \">\r\n            <div className={style.uploadField} >\r\n              <img src={imgUpload} className=\"img-fluid \" alt=\"\" id=\"img-placeholder\"  width={'450px'} />\r\n              <img src={task.image} className=\"img-fluid \" alt=\"\" id=\"img-placeholder\"  width={'250px'}  style={{position:'absolute', left:'10%', top:'7%', height:'260px'}}/>\r\n\r\n              <input\r\n                type=\"file\" hidden\r\n                className=\"form-control\"\r\n                id=\"image\"\r\n                name=\"image\"\r\n                onChange={handleImageChange}\r\n              />\r\n              <label htmlFor=\"image\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" fill=\"currentColor\" className=\"bi bi-cloud-arrow-up-fill\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M8 2a5.53 5.53 0 0 0-3.594 1.342c-.766.66-1.321 1.52-1.464 2.383C1.266 6.095 0 7.555 0 9.318 0 11.366 1.708 13 3.781 13h8.906C14.502 13 16 11.57 16 9.773c0-1.636-1.242-2.969-2.834-3.194C12.923 3.999 10.69 2 8 2zm2.354 5.146a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2a.5.5 0 0 1 .708 0l2 2z\"/>\r\n                </svg> <br />\r\n                Upload Image\r\n              </label>      \r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"\">\r\n          <div className=\"text-center mt-5\">\r\n            <button className=\"btn btn-success mx-2 text-light px-5 py-2 b-0\">Edit</button>\r\n            <button className=\"btn btn-danger mx-2 text-light px-5 py-2 b-0\" onClick={handleDelete}>\r\n              Delete\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditTasks;"],"names":["navigate","useNavigate","deleteTask","editTask","useContext","TasksContext","inputRef","useRef","id","useParams","task","setTask","useState","title","deadline","description","image","useEffect","axios","get","concat","then","res","data","catch","err","console","error","log","handleChange","e","name","value","target","prev","_jsxs","style","marginTop","borderRadius","className","children","_jsx","onSubmit","preventDefault","htmlFor","type","onChange","ref","rows","cols","uploadField","src","imgUpload","alt","width","position","left","top","height","hidden","file","files","reader","FileReader","onload","base64Image","result","readAsDataURL","xmlns","fill","viewBox","d","onClick","async"],"sourceRoot":""}